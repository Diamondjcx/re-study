## 自我介绍
晚上好，我先做下自我介绍，我叫焦春学，来自河北邢台，17年毕业于河北科技大学计算机科学与技术专业，目前有两段工作经历，第一段工作经历是中人网深圳分公司，公司主要是做人力资源相关的产品，为什么离职呢？当时因为公司经营出了点状况，发不出工资，然后就换了一家公司，第二段工作经历也就是目前所在的这家公司，爱莫科技，主要是做人工智能与大数据方面的，主要用的技术栈是vue及vue全家桶，包括vue-router、vuex、vue-cli等技术栈，我主要是负责公司承接的产品的前端开发，包括pc端、H5端微信公众号和企业微信公众号、微信小程序等。平时工作之余，也会写一写自己的总结，逛一逛技术社区，看一些书刊等。因为公司的改变了发展策略，与自己的发展规划不太相符合，所以想看看机会。
## 可以介绍下最近做的项目

### 项目背景：
陈列打卡活动，是给四川中烟做的活动，包括H5客户端、PC端后台管理系统，零售户可以通过访问H5端，拍摄摆放烟的陈列照片，进行上传，通过我们公司的算法进行识别，打分，获得积分，换取响应的奖励。如果自认为结果不正确，也可以进行上传审核，到我们的审核后台，由专门的审核人员进行人工复核。数据后台是陈列打卡相关的数据，包括上传照片，打卡人数，得分奖励，发放奖励等数据。我是独立负责这一整套系统的前端开发。

### 项目技术：
vue全家桶，vue-cli搭建、vue-router负责路由、vuex进行数据管理、axios进行数据请求，图表使用的是echarts、地图用了高德api

### 遇到的问题
因为数据后台累计了很多活动之后，全部数据都集成在里面，会导致数据量特别大，加载也会变慢；
根据webpack打包预览图配合浏览器的performance 针对的做了一些优化：

####  1、地图数据（直接从高德地图中拉下来的数据）

缺点：
1）地图中的数据不是一成不变的，有些地区可能由于政策的改变，由县升级为区
2）地图中的数据会有很多，会增加打包体积，影响加载速度及用户体验
解决：使用了高德地图 api，根据 code 获取地图中的数据，可以有效的减少打包体积（四川省下面的市区、全国）
7.99 MB - 3.52 MB - 5.76 MB（加上全国数据）

vue-cli：@vue/cli 4.3.1
vue：2.5.2

#### 2、路由的按需加载

const RoutersView = () => import( /_ webpackChunkName: 'layout' _/ '../views/routers-view')
用函数包裹起来

#### 3、elementUI 按需加载

打包体积增大

#### 4、webpack优化

compression-webpack-plugin 开启 gzip；gzip 是需要服务端配置的，当开启时会压缩我们的线上代码，但是如果我们前端已经使用 gzip 压缩过，那么服务端就会直接使用已经压缩好的代码

#### 5、splitChunks chunk-vender 分割代码

chunk-vendors 的 js 文件，这个文件包含了业务代码和一些引入的第三方库代码，所以一般体积比较大，浏览器加载时也耗时更多

其实我们可以将这部分代码做一个分割，分成多个文件，这样浏览器加载时会并行加载，而且对于不变的代码，会直接从缓存中读取，速度得到提升。

#### 6、有了解到可以使用 cdn，但是可能会不稳定

直接配置 config.externals HtmlWebpackPlugin 插件进行引入

cdn 引入的方式虽然能极大改善网页加载速度，但我还是不会用这个功能，项目还不需要非得这样的优化，也怕 cdn 不稳定。觉得需要的还是可以上的

#### 7、图片文件的压缩

上线之前统一进行图片压缩 tiny
或者使用 image-webpack-loader

#### 8、去掉一些没有必要的第三方包

只使用了 lodash 的深拷贝。就可以直接摒弃掉这个库，当然也可以进行按需加载

#### 9、打包第三方包时，忽略一些文件内容

webpack 中的 IgnorePlugin 插件，可以在打包第三方包时忽略一些文件内容，有效减小打包文件体积。一个典型的案例就是忽略 moment 插件的语言包，moment 自带有很多语言包，即使你不用这些包，也会被一起打包了，这时候就可以使用 ignorePlugin 来忽略打包这部分文件，配置插件：

关于时间格式化，我还是喜欢自己去封装，或者可以使用 dayjs 这个库，更轻量化。

#### 10、提升项目构建速度

这个适用于开发环境，每次构建都需要打包引入的第三方模块，如果不打包这些模块，那么构建速度将大大提升，这正是 DllPlugin 要做到的事。

说的明白点就是在构建项目之前，先把一些第三方包打包好，然后项目构建时直接引用这些打包好的第三方包，提升项目构建速度。
