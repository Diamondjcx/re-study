1. 简单介绍：是什么样的一款产品，有什么功能，包含 pc 端和移动端，负责了做了哪些，遇到了什么复杂的问题

   虚拟店长是面向线下门店运营相关的一款知识驱动的人工智能平台，为了实现门店数据驱动即时运营服务的一款产品，有两个端钉钉 h5 端、pc 端及拖拽低代码可视化数据大屏；pc 端主要是一些数据展示及各种配置，包括对客流分析、运营管理、安全防护、音乐氛围、门店数据、消息图库及门店、算法、客流数据、用户、角色调节等配置。

   在此项目中我作为此项目的前端负责人兼核心开发人员带领两位团队成员从 0-1 搭建项目及核心模块的开发，包括数据大屏图表低代码拖拽平台、pc 端视频播放模块、权限管理及一些公共模块、公共逻辑 hooks 封装；

   1. 视频播放

   2. 数据大屏图表拖拽

      1. 有什么功能：有很多图表，比如性别趋势、进店人数、实时进店人数，每个角色想要展示不同的图表，可以灵活展示显示哪些图表、随意调换图表位置。数据大屏布局中间是中国地图用来展示门店在全国分布位置还可以下钻到市，左下右环绕着图表。图表可以除去地图那块任意拖拽调换位置，右边菜单展开之后，可以拖拽替换大屏中展示的图表；

      2. 如何实现的：vue-draggle、echarts、动态组件渲染

      3. 遇到了什么问题：

         1. 中国地图交互比较复杂，门店数量在地图上面积会因为数量相差很少显示的颜色类似，分不清楚哪个地区的数量多哪个地区的数量少，通过\*\*\*解决的
         2. 中国地图右下角需要展示实时进店人数，通过 websocket 推送，动画 S 型、如果推送人数很多，dom 会逐渐增长，导致卡顿，用栈的思想一直保留 10 个 dom，先进的先删除
         3. 地图省需要分批一轮一轮进行展示，门店数量也需要实时更新、实时图表也要实时更新，图表的展示需要自动根据筛选切换，通过定时器 隔几秒获取一次数据，使用 setimeout 替代 setinterval，优化当大屏不在可见范围内时，清除定时器

2. 在项目中遇到了什么复杂的问题及如何解决的（视频播放、数据大屏、图片滑动预览兼容性问题）

   1. 视频播放
      在做视频播放及直播模块的过程中，以前没有接触过视频相关的知识，调研业界视频播放及直播的整个流程（讲述一下整个流程），与后端同学沟通交流对接播放方案，前端需要将后端推送过来的视频进行播放，调研前端播放器，根据业务需要（播放器对比），最终选择了 easyplayer 播放器进行播放，在此过程中遇到了一些问题，1. 浏览器不支持多路播放 2. 插件中需要 wasm 解码文件，请求路径是封装在插件中的，在加载静态文件时拿不到路径，需要加上二级域名，修改源码传参，保持加载路径的正确性

   2. 数据大屏
   3. 钉钉图片滑动预览兼容性问题
      https://github.com/youzan/vant/issues/10327钉钉端预览图片不正常，使用vue3-photo-preview
   4. 日历一旦传入 default 时间，会空白
      scroll-top -1

3. 有什么成果
   封装了此视频功能模块，作为公共组件 引入到各个产品中，其他产品也有此功能，已接入公司其他项目中 安防类产品超级保安、智能防疫酒店等等
