# 闭包的理解

首先闭包呢，我认为市场众说纷纭啊，其实它的概念就是一个函数返回另一个函数，我认为他有两个作用，第一个作用就是保护，第二个就是保存，保护呢就是 函数执行之前会形成一个作用域，不受外部干扰，它很适合模块化开发，我们在 es6module 还是 commonjs 地方都能看到闭包的影子，第二个呢就是保存，当一个函数返回另一个引用数据类型的时候，被外界所接收了就会形成不销毁的作用域，它就会一直存在浏览器里，很容易造成内存泄漏
（概念、作用-优缺点、场景）

## 什么是内存泄漏呢？

结论：

    内存泄漏是指程序在申请内存后，无法释放不再使用的内存空间。这意味着，即使不再需要这些内存，它们仍然被分配给该程序，导致内存占用不断增加，最终可能导致系统资源耗尽，影响程序的性能和稳定性。

内存泄漏通常是由于程序员的错误导致的，例如：

    未正确释放对象或变量所占用的内存空间；
    循环引用导致对象无法被垃圾回收器正确清理；
    长时间存活的对象占用了大量内存空间，但实际上不再需要这些内存。

为了避免内存泄漏，你可以采取以下措施：

    尽量避免使用全局变量或闭包变量，因为它们可能会导致无法释放内存空间；
    在使用完一个对象后，及时将其引用设置为 null，以便垃圾回收器可以回收其占用的内存空间；
    对于不再使用的对象或变量，及时将其从内存中释放掉，以避免内存泄漏；
    了解并合理利用你所使用的编程语言的垃圾回收机制来自动管理内存。

## 所有闭包都会导致内存泄漏吗？

就看他有没有被外界所接收了，首先它会 一个函数执行返回一个引用数据类型，如果被外界所接收了，就会形成一个不销毁作用域，这个就会造成内存泄漏

## 垃圾回收有哪些算法

垃圾回收是一种自动管理内存的机制，它会在程序运行时自动释放不再使用的内存空间，以避免内存泄漏和野指针

在 V8 引擎中，垃圾回收机制采用了分代式垃圾回收，将内存分为新生代和老生代两个区域。

新生代内存区域用于存储新创建的对象，而老生代内存区域用于存储长时间存活的对象。

对于新生代区域，V8 使用引用计数算法进行垃圾回收。
（当创建一个新对象时，它的引用计数就会增加 1；当一个对象引用被解除时，它的引用计数就会减少 1。当对象的引用计数为 0 时，表示该对象不再被使用，可以被垃圾回收器回收。）

在老生代区域，V8 主要使用标记清除算法进行垃圾回收。标记清除算法分为两个阶段：标记阶段和清除阶段。
（在标记阶段，垃圾回收器从根对象开始，遍历所有可达对象，并给它们打上标记；在清除阶段，垃圾回收器释放未被标记的对象占用的内存空间。）

为了优化标记清除算法的性能，V8 采用了延迟清理的策略。在垃圾回收过程中，V8 不会立即释放所有被清除对象的内存空间，而是将它们暂时保留在内存中，以便后续可能重新使用。这样可以减少垃圾回收后的内存分配开销。
